"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3478],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},f="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),f=c(n),d=r,m=f["".concat(s,".").concat(d)]||f[d]||p[d]||o;return n?a.createElement(m,l(l({ref:t},u),{},{components:n})):a.createElement(m,l({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[f]="string"==typeof e?e:r,l[1]=i;for(var c=2;c<o;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(7294),r=n(6010);const o={tabItem:"tabItem_Ymn6"};function l(e){let{children:t,hidden:n,className:l}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(o.tabItem,l),hidden:n},t)}},4866:(e,t,n)=>{n.d(t,{Z:()=>N});var a=n(7462),r=n(7294),o=n(6010),l=n(2466),i=n(6550),s=n(1980),c=n(7392),u=n(12);function f(e){return function(e){return r.Children.map(e,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}function p(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??f(n);return function(e){const t=(0,c.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function d(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:n}=e;const a=(0,i.k6)(),o=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,s._X)(o),(0,r.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(a.location.search);t.set(o,e),a.replace({...a.location,search:t.toString()})}),[o,a])]}function b(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,o=p(e),[l,i]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!d({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:o}))),[s,c]=m({queryString:n,groupId:a}),[f,b]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,o]=(0,u.Nk)(n);return[a,(0,r.useCallback)((e=>{n&&o.set(e)}),[n,o])]}({groupId:a}),g=(()=>{const e=s??f;return d({value:e,tabValues:o})?e:null})();(0,r.useEffect)((()=>{g&&i(g)}),[g]);return{selectedValue:l,selectValue:(0,r.useCallback)((e=>{if(!d({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);i(e),c(e),b(e)}),[c,b,o]),tabValues:o}}var g=n(2389);const h={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function k(e){let{className:t,block:n,selectedValue:i,selectValue:s,tabValues:c}=e;const u=[],{blockElementScrollPositionUntilNextRender:f}=(0,l.o5)(),p=e=>{const t=e.currentTarget,n=u.indexOf(t),a=c[n].value;a!==i&&(f(t),s(a))},d=e=>{let t=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{const n=u.indexOf(e.currentTarget)+1;t=u[n]??u[0];break}case"ArrowLeft":{const n=u.indexOf(e.currentTarget)-1;t=u[n]??u[u.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":n},t)},c.map((e=>{let{value:t,label:n,attributes:l}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:i===t?0:-1,"aria-selected":i===t,key:t,ref:e=>u.push(e),onKeyDown:d,onClick:p},l,{className:(0,o.Z)("tabs__item",h.tabItem,l?.className,{"tabs__item--active":i===t})}),n??t)})))}function v(e){let{lazy:t,children:n,selectedValue:a}=e;if(t){const e=n.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},n.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function y(e){const t=b(e);return r.createElement("div",{className:(0,o.Z)("tabs-container",h.tabList)},r.createElement(k,(0,a.Z)({},e,t)),r.createElement(v,(0,a.Z)({},e,t)))}function N(e){const t=(0,g.Z)();return r.createElement(y,(0,a.Z)({key:String(t)},e))}},5317:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>c,toc:()=>f});var a=n(7462),r=(n(7294),n(3905)),o=n(4866),l=n(5162);const i={sidebar_position:1,id:"getting-started",title:"Getting Started",slug:"/"},s=void 0,c={unversionedId:"getting-started",id:"getting-started",title:"Getting Started",description:"Effectie Logo Effectie",source:"@site/../generated-docs/docs/getting-started.md",sourceDirName:".",slug:"/",permalink:"/docs/",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,id:"getting-started",title:"Getting Started",slug:"/"},sidebar:"latestSidebar",next:{title:"For Cats Effect",permalink:"/docs/cats-effect2/"}},u={},f=[{value:"Effectie Logo Effectie",id:"effectie-logo-effectie",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"For Cats Effect",id:"for-cats-effect",level:3},{value:"For Monix",id:"for-monix",level:3},{value:"Why?",id:"why",level:2},{value:"Problem: Duplicate Implementations",id:"problem-duplicate-implementations",level:3},{value:"No More Duplicates with Effectie",id:"no-more-duplicates-with-effectie",level:3}],p={toc:f},d="wrapper";function m(e){let{components:t,...i}=e;return(0,r.kt)(d,(0,a.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"effectie-logo-effectie"},(0,r.kt)("img",{alt:"Effectie Logo",src:n(6907).Z,width:"96",height:"96"})," Effectie"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Kevin-Lee/effectie/actions?workflow=Build-All"},(0,r.kt)("img",{parentName:"a",src:"https://github.com/Kevin-Lee/effectie/workflows/Build-All/badge.svg",alt:"Build Status"})),"\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/Kevin-Lee/effectie/actions?workflow=Release"},(0,r.kt)("img",{parentName:"a",src:"https://github.com/Kevin-Lee/effectie/workflows/Release/badge.svg",alt:"Release Status"})),"\n",(0,r.kt)("a",{parentName:"p",href:"https://index.scala-lang.org/kevin-lee/effectie"},(0,r.kt)("img",{parentName:"a",src:"https://index.scala-lang.org/kevin-lee/effectie/latest.svg",alt:"Latest version"}))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"right"},"Project"),(0,r.kt)("th",{parentName:"tr",align:null},"Maven Central"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"effectie-cats-effect3"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://search.maven.org/artifact/io.kevinlee/effectie-cats-effect3_2.13"},(0,r.kt)("img",{parentName:"a",src:"https://maven-badges.herokuapp.com/maven-central/io.kevinlee/effectie-cats-effect3_2.13/badge.svg",alt:"Maven Central"})))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"effectie-cats-effect2"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://search.maven.org/artifact/io.kevinlee/effectie-cats-effect2_2.13"},(0,r.kt)("img",{parentName:"a",src:"https://maven-badges.herokuapp.com/maven-central/io.kevinlee/effectie-cats-effect2_2.13/badge.svg",alt:"Maven Central"})))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"effectie-monix3"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://search.maven.org/artifact/io.kevinlee/effectie-monix3_2.13"},(0,r.kt)("img",{parentName:"a",src:"https://maven-badges.herokuapp.com/maven-central/io.kevinlee/effectie-monix3_2.13/badge.svg",alt:"Maven Central"})))))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Supported Scala Versions: ",(0,r.kt)("inlineCode",{parentName:"li"},"3"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"2.13")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"2.12"))),(0,r.kt)("p",null,"A set of type-classes and utils for functional effect libraries (i.e.  Cats Effect, Monix and Scalaz's Effect)."),(0,r.kt)("p",null,"Why Effectie? Please read ",(0,r.kt)("a",{parentName:"p",href:"#why"},'"Why?"')," section."),(0,r.kt)("h2",{id:"getting-started"},"Getting Started"),(0,r.kt)("h3",{id:"for-cats-effect"},"For Cats Effect"),(0,r.kt)("p",null,"In ",(0,r.kt)("inlineCode",{parentName:"p"},"build.sbt"),","),(0,r.kt)(o.Z,{groupId:"cats-effect",defaultValue:"cats-effect",values:[{label:"Cats Effect 3",value:"cats-effect3"},{label:"Cats Effect 2",value:"cats-effect"}],mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"cats-effect3",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},'libraryDependencies += "io.kevinlee" %% "effectie-cats-effect3" % "2.0.0-beta8"\n'))),(0,r.kt)(l.Z,{value:"cats-effect",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},'libraryDependencies += "io.kevinlee" %% "effectie-cats-effect2" % "2.0.0-beta8"\n')))),(0,r.kt)("p",null,"For more details, check out ",(0,r.kt)("a",{parentName:"p",href:"/docs/cats-effect2/"},"Effectie for Cats Effect"),"."),(0,r.kt)("h3",{id:"for-monix"},"For Monix"),(0,r.kt)("p",null,"In ",(0,r.kt)("inlineCode",{parentName:"p"},"build.sbt"),","),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},'libraryDependencies += "io.kevinlee" %% "effectie-monix" % "2.0.0-beta8"\n')),(0,r.kt)("p",null,"For more details, check out ",(0,r.kt)("a",{parentName:"p",href:"/docs/monix3/"},"Effectie for Monix"),"."),(0,r.kt)("h2",{id:"why"},"Why?"),(0,r.kt)("p",null,"Tagless final gives us power to defer the decision of the implementations of contexts we're binding and functional effect libraries like Cats Effect and Monix give us referential transparency (and more). There might be an issue though with writing implementation for the abstraction which is supposed to support not only effect libraries like Cats Effect but also ",(0,r.kt)("inlineCode",{parentName:"p"},"Future"),". You may end up writing exactly the same code with only an exception to how you construct effect data type (e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"IO")," vs ",(0,r.kt)("inlineCode",{parentName:"p"},"Future"),"). "),(0,r.kt)("p",null,"Let's check out some code examples."),(0,r.kt)("h3",{id:"problem-duplicate-implementations"},"Problem: Duplicate Implementations"),(0,r.kt)("p",null,"If you use Cats Effect, you may write code like this."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},'import cats.syntax.all._\nimport cats.effect._\n\ntrait Foo[F[_]] {\n  def foo(a: Int, b: Int): F[Int]\n}\nobject Foo {\n  def apply[F[_]: Sync](): Foo[F] = new Foo[F] {\n    def foo(a: Int, b: Int): F[Int] =\n      for {\n        n1 <- bar(a)\n        n2 <- bar(b)\n      } yield n1 + n2\n\n    private def bar(n: Int): F[Int] = for {\n      n2 <- Sync[F].delay(math.abs(n))\n      result <- if (n2 < 0)\n                  Sync[F].raiseError(\n                    new IllegalArgumentException("n is Int.MinValue so abs doesn\'t work for it.")\n                  )\n                else\n                  Sync[F].pure(n2)\n    } yield result\n  }\n}\n\nval foo = Foo[IO]()\n// foo: Foo[IO] = repl.MdocSession$App0$Foo$$anon$1@3c356fc4\n\nfoo.foo(1, 2).unsafeRunSync()\n// res1: Int = 3\n')),(0,r.kt)("p",null,"Then for some reason, your company uses another tech stack with ",(0,r.kt)("inlineCode",{parentName:"p"},"Future")," so you need to repeat the same logic with ",(0,r.kt)("inlineCode",{parentName:"p"},"Future")," like this."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},'import scala.concurrent._\nimport scala.concurrent.ExecutionContext.Implicits.global\n\nclass FooFuture extends Foo[Future] {\n  def foo(a: Int, b: Int): Future[Int] =\n    for {\n      n1 <- bar(a)\n      n2 <- bar(b)\n    } yield n1 + n2\n\n  private def bar(n: Int): Future[Int] = for {\n    n2 <- Future(math.abs(n))\n    result <- if (n2 < 0)\n      Future.failed(\n        new IllegalArgumentException("n is Int.MinValue so abs doesn\'t work for it.")\n      )\n    else\n      Future.successful(n2)\n  } yield result\n}\n\nimport scala.concurrent.duration._\n\nval foo = new FooFuture\n// foo: FooFuture = repl.MdocSession$App0$FooFuture$1@412181cc\nAwait.result(\n  foo.foo(1, 2),\n  Duration.Inf\n)\n// res2: Int = 3\n')),(0,r.kt)("p",null,"Now you need to continuously spend more time to maintain two code bases for the same operation."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"no-more-duplicates-with-effectie"},"No More Duplicates with Effectie"),(0,r.kt)("p",null,"This issue can be solved easily with Effectie."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},'import cats._\nimport cats.syntax.all._\nimport effectie.core._\nimport effectie.syntax.all._\n\ntrait Foo[F[_]] {\n  def foo(a: Int, b: Int): F[Int]\n}\nobject Foo {\n  def apply[F[_]: Fx: Monad](): Foo[F] = new Foo[F] {\n    def foo(a: Int, b: Int): F[Int] =\n      for {\n        n1 <- bar(a)\n        n2 <- bar(b)\n      } yield n1 + n2\n\n    private def bar(n: Int): F[Int] = for {\n      n2 <- effectOf(math.abs(n))\n      result <- if (n2 < 0)\n                  errorOf(\n                    new IllegalArgumentException("n is Int.MinValue so abs doesn\'t work for it.")\n                  )\n                else\n                  pureOf(n2)\n    } yield result\n  }\n}\n')),(0,r.kt)("p",null,"With just one code base above, you can use ",(0,r.kt)("inlineCode",{parentName:"p"},"IO")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"Future")," as you wish like this."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"import cats.effect._\nimport effectie.instances.ce2.fx._\n\nval foo = Foo[IO]()\n// foo: Foo[IO] = repl.MdocSession$App3$Foo$$anon$2@6e79a1d\nfoo.foo(1, 2).unsafeRunSync()\n// res4: Int = 3\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"import scala.concurrent._\nimport scala.concurrent.ExecutionContext.Implicits.global\n\nimport scala.concurrent.duration._\n\nimport effectie.instances.future.fx._\nval foo2 = Foo[Future]()\n// foo2: Foo[Future] = repl.MdocSession$App3$Foo$$anon$2@11bb9e4a\nAwait.result(\n  foo2.foo(1, 2),\n  Duration.Inf\n)\n// res5: Int = 3\n")),(0,r.kt)("p",null,"As you can see, you can use the same ",(0,r.kt)("inlineCode",{parentName:"p"},"Foo")," for both ",(0,r.kt)("inlineCode",{parentName:"p"},"IO")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Future"),"."),(0,r.kt)("p",null,"Check out"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/cats-effect2/"},"Effectie for Cats Effect 2")),(0,r.kt)("li",{parentName:"ul"},"Effectie for Cats Effect 3 (Writing docs WIP)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/monix3/"},"Effectie for Monix 3"))))}m.isMDXComponent=!0},6907:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/effectie-logo-96x96-e63a86ccb6f2e7637f259ff47575cf69.png"}}]);