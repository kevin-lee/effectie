"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[7677],{8453:(t,e,n)=>{n.d(e,{R:()=>s,x:()=>a});var i=n(6540);const r={},o=i.createContext(r);function s(t){const e=i.useContext(o);return i.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function a(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(r):t.components||r:s(t.components),i.createElement(o.Provider,{value:e},t.children)}},8933:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>f});const i=JSON.parse('{"id":"docs/cats-effect/eithert-support","title":"EitherTSupport","description":"EitherTSupport","source":"@site/versioned_docs/version-v1/docs/cats-effect/eithert-support.md","sourceDirName":"docs/cats-effect","slug":"/docs/cats-effect/eithert-support","permalink":"/docs/v1/docs/cats-effect/eithert-support","draft":false,"unlisted":false,"tags":[],"version":"v1","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"id":"eithert-support","title":"EitherTSupport"},"sidebar":"sidebar","previous":{"title":"OptionTSupport","permalink":"/docs/v1/docs/cats-effect/optiont-support"},"next":{"title":"ConsoleEffect","permalink":"/docs/v1/docs/cats-effect/console-effect"}}');var r=n(4848),o=n(8453);const s={sidebar_position:6,id:"eithert-support",title:"EitherTSupport"},a=void 0,c={},f=[{value:"EitherTSupport",id:"eithertsupport",level:2}];function p(t){const e={code:"code",h2:"h2",pre:"pre",...(0,o.R)(),...t.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{id:"eithertsupport",children:"EitherTSupport"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-scala",children:'import cats._\nimport cats.syntax.all._\n\nimport effectie.cats.Effectful._\nimport effectie.cats._\nimport effectie.cats.EitherTSupport._\n\ntrait Something[F[_]] {\n  def foo(a: Int): F[Either[String, Int]]\n  def bar(a: Either[String, Int]): F[Either[String, Int]]\n}\n\nobject Something {\n  def apply[F[_]: Something]: Something[F] =\n    implicitly[Something[F]]\n\n  implicit def something[F[_]: Fx: Monad]: Something[F] =\n    new SomethingF[F]\n\n  final class SomethingF[F[_]: Fx: Monad]\n    extends Something[F] {\n\n    def foo(a: Int): F[Either[String, Int]] = (for {\n      x <- a.rightTF[F, String] // == EitherT.liftF(Applicative[F].pure(a))\n      y <- (x + 10).rightTF[F, String] // == EitherT.liftF(Applicative[F].pure(x + 10))\n      y2 <- if (y > 100)\n              "Error - Bigger than 100".leftTF[F, Int]\n            else\n              y.rightTF[F, String] \n       // \u2191 if (y > 100)\n       //     EitherT(pureOf("Error - Bigger than 100").map(_.asLeft[Int]))\n       //   else\n       //     EitherT(pureOf(y).map(_.asRight[String]))\n      z <- effectOf(y2 + 100).rightT[String] // == EitherT.lieftF(effectOf(y + 100))\n    } yield z).value\n\n    def bar(a: Either[String, Int]): F[Either[String, Int]] = (for {\n      x <- a.eitherT[F] // == EitherT(pureOf(a: Either[String, Int]))\n      y <- effectOf((x + 999).asRight[String]).eitherT  // == EitherT(effectOf((x + 999).asRight[String]))\n    } yield y).value\n  }\n\n}\n\nimport cats.effect._\n\nSomething[IO].foo(1).unsafeRunSync()\n// res1: Either[String, Int] = Right(value = 111)\nSomething[IO].foo(10).unsafeRunSync()\n// res2: Either[String, Int] = Right(value = 120)\n\nSomething[IO].bar(1.asRight[String]).unsafeRunSync()\n// res3: Either[String, Int] = Right(value = 1000)\nSomething[IO].bar("No number".asLeft[Int]).unsafeRunSync()\n// res4: Either[String, Int] = Left(value = "No number")\n'})})]})}function h(t={}){const{wrapper:e}={...(0,o.R)(),...t.components};return e?(0,r.jsx)(e,{...t,children:(0,r.jsx)(p,{...t})}):p(t)}}}]);