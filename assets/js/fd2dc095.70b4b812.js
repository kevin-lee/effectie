"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[4084],{4952:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>l,frontMatter:()=>s,metadata:()=>r,toc:()=>f});const r=JSON.parse('{"id":"docs/scalaz-effect/eithert-support","title":"EitherTSupport","description":"EitherTSupport","source":"@site/versioned_docs/version-v1/docs/scalaz-effect/eithert-support.md","sourceDirName":"docs/scalaz-effect","slug":"/docs/scalaz-effect/eithert-support","permalink":"/docs/v1/docs/scalaz-effect/eithert-support","draft":false,"unlisted":false,"tags":[],"version":"v1","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"layout":"docs","title":"EitherTSupport"},"sidebar":"sidebar","previous":{"title":"OptionTSupport","permalink":"/docs/v1/docs/scalaz-effect/optiont-support"},"next":{"title":"ConsoleEffect","permalink":"/docs/v1/docs/scalaz-effect/console-effect"}}');var i=n(4848),o=n(8453);const s={sidebar_position:4,layout:"docs",title:"EitherTSupport"},a=void 0,c={},f=[{value:"EitherTSupport",id:"eithertsupport",level:2}];function p(t){const e={code:"code",h2:"h2",pre:"pre",...(0,o.R)(),...t.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{id:"eithertsupport",children:"EitherTSupport"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-scala",children:'import scalaz._\nimport Scalaz._\n\nimport effectie.scalaz.Effectful._\nimport effectie.scalaz._\nimport effectie.scalaz.EitherTSupport._\n\ntrait Something[F[_]] {\n  def foo(a: Int): F[String \\/ Int]\n  def bar(a: String \\/ Int): F[String \\/ Int]\n}\n\nobject Something {\n  def apply[F[_]: Something]: Something[F] =\n    implicitly[Something[F]]\n\n  implicit def something[F[_]: Fx: Monad]: Something[F] =\n    new SomethingF[F]\n\n  final class SomethingF[F[_]: Fx: Monad]\n    extends Something[F] {\n\n    def foo(a: Int): F[String \\/ Int] = (for {\n      x <- a.rightTF[F, String] // == EitherT(Applicative[F].pure(a).map(_.right[String]))\n      y <- (x + 10).rightTF[F, String] // == EitherT(Applicative[F].pure(x + 10).map(_.right[String]))\n      y2 <- if (y > 100)\n              eitherTLeft[Int]("Error - Bigger than 100")\n            else\n              eitherTRightPure[String](y)\n       // \u2191 if (y > 100)\n       //     EitherT(pureOF("Error - Bigger than 100").map(_.left[Int]))\n       //   else\n       //     EitherT(pureOf(y).map(_.right[String]))\n      z <- effectOf(y2 + 100).rightT[String] // == EitherT(effectOf(y + 100).map(_.right))\n    } yield z).run\n\n    def bar(a: String \\/ Int): F[String \\/ Int] = (for {\n      x <- a.eitherT[F] // == EitherT(pureOf(a: String \\/ Int))\n      y <- effectOf((x + 999).right[String]).eitherT  // == EitherT(effectOf((x + 999).right[String]))\n    } yield y).run\n  }\n\n}\n\nimport scalaz.effect._\n\nSomething[IO].foo(1).unsafePerformIO()\n// res1: String \\/ Int = \\/-(b = 111)\nSomething[IO].foo(10).unsafePerformIO()\n// res2: String \\/ Int = \\/-(b = 120)\n\nSomething[IO].bar(1.right[String]).unsafePerformIO()\n// res3: String \\/ Int = \\/-(b = 1000)\nSomething[IO].bar("No number".left[Int]).unsafePerformIO()\n// res4: String \\/ Int = -\\/(a = "No number")\n'})})]})}function l(t={}){const{wrapper:e}={...(0,o.R)(),...t.components};return e?(0,i.jsx)(e,{...t,children:(0,i.jsx)(p,{...t})}):p(t)}},8453:(t,e,n)=>{n.d(e,{R:()=>s,x:()=>a});var r=n(6540);const i={},o=r.createContext(i);function s(t){const e=r.useContext(o);return r.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function a(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(i):t.components||i:s(t.components),r.createElement(o.Provider,{value:e},t.children)}}}]);