"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[986],{977:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>p,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"docs/cats-effect/optiont-support","title":"OptionTSupport","description":"OptionTSupport","source":"@site/versioned_docs/version-v1/docs/cats-effect/optiont-support.md","sourceDirName":"docs/cats-effect","slug":"/docs/cats-effect/optiont-support","permalink":"/docs/v1/docs/cats-effect/optiont-support","draft":false,"unlisted":false,"tags":[],"version":"v1","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"id":"optiont-support","title":"OptionTSupport"},"sidebar":"sidebar","previous":{"title":"FromFuture","permalink":"/docs/v1/docs/cats-effect/from-future"},"next":{"title":"EitherTSupport","permalink":"/docs/v1/docs/cats-effect/eithert-support"}}');var i=e(4848),s=e(8453);const p={sidebar_position:5,id:"optiont-support",title:"OptionTSupport"},r=void 0,c={},a=[{value:"OptionTSupport",id:"optiontsupport",level:2}];function f(t){const n={code:"code",h2:"h2",pre:"pre",...(0,s.R)(),...t.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"optiontsupport",children:"OptionTSupport"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-scala",children:"import cats._\nimport cats.syntax.all._\n\nimport effectie.cats.Effectful._\nimport effectie.cats._\nimport effectie.cats.OptionTSupport._\n\ntrait Something[F[_]] {\n  def foo(a: Int): F[Option[Int]]\n  def bar(a: Option[Int]): F[Option[Int]]\n}\n\nobject Something {\n  def apply[F[_]: Something]: Something[F] =\n    implicitly[Something[F]]\n\n  implicit def something[F[_]: Fx: Monad]: Something[F] =\n    new SomethingF[F]\n\n  final class SomethingF[F[_]: Fx: Monad]\n    extends Something[F] {\n\n    def foo(a: Int): F[Option[Int]] = (for {\n      x <- a.someTF[F] // == OptionT.liftF(Applicative[F].pure(a))\n      y <- (x + 10).someTF[F] // == OptionT.liftF(Applicative[F].pure(x + 10))\n      z <- effectOf(y + 100).someT // == OptionT.lieftF(effectOf(y + 100))\n    } yield z).value\n\n    def bar(a: Option[Int]): F[Option[Int]] = (for {\n      x <- a.optionT[F] // == OptionT(pureOf(a: Option[Int]))\n      y <- effectOf((x + 999).some).optionT  // == OptionT(effectOf((x + 999).some))\n    } yield y).value\n  }\n\n}\n\nimport cats.effect._\n\nSomething[IO].foo(1).unsafeRunSync()\n// res1: Option[Int] = Some(value = 111)\nSomething[IO].foo(10).unsafeRunSync()\n// res2: Option[Int] = Some(value = 120)\n\nSomething[IO].bar(1.some).unsafeRunSync()\n// res3: Option[Int] = Some(value = 1000)\nSomething[IO].bar(none[Int]).unsafeRunSync()\n// res4: Option[Int] = None\n"})})]})}function u(t={}){const{wrapper:n}={...(0,s.R)(),...t.components};return n?(0,i.jsx)(n,{...t,children:(0,i.jsx)(f,{...t})}):f(t)}},8453:(t,n,e)=>{e.d(n,{R:()=>p,x:()=>r});var o=e(6540);const i={},s=o.createContext(i);function p(t){const n=o.useContext(s);return o.useMemo(function(){return"function"==typeof t?t(n):{...n,...t}},[n,t])}function r(t){let n;return n=t.disableParentContext?"function"==typeof t.components?t.components(i):t.components||i:p(t.components),o.createElement(s.Provider,{value:n},t.children)}}}]);